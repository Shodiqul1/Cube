<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Rubik Cube Timer - Elegan</title>

<!-- Favicon & Apple Touch Icon -->
<link rel="icon" type="image/png" href="logo-rubik.png">
<link rel="apple-touch-icon" href="logo-rubik.png">

<!-- PWA manifest -->
<link rel="manifest" href="manifest.json">

<style>
:root {
    --bg: #0c1a2e;
    --panel: rgba(15, 40, 70, 0.9);
    --card: rgba(20, 50, 90, 0.9);
    --border: #1a2e4c;
    --skyblue: #4db8ff;
    --silver: #c0c0c0;
    --text: #f0f0f0;
    --muted: #a0a3b0;
    --danger: #ef4444;
}

* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
html, body { width:100%; height:100%; overflow:hidden; position:fixed; background: var(--bg); color: var(--text); }

.app {
    position:fixed; inset:0;
    display:flex; flex-direction:column; align-items:center; justify-content:space-between;
    padding:16px; text-align:center;
}

/* HEADER */
.header {
    display:flex; align-items:center; gap:12px;
}
.header h2 { font-weight:700; font-size:1.6em; color: var(--skyblue); }
.header svg { width:42px; height:42px; }

/* SCRAMBLE */
.scramble-box {
    background: var(--panel); backdrop-filter: blur(8px);
    border:1px solid var(--border); border-radius:16px; padding:12px 16px;
    max-width:420px; width:100%; margin-bottom:14px;
}
.scramble-text { font-size:15px; line-height:1.4; color: var(--silver); word-wrap: break-word; }
.scramble-btn {
    margin-top:8px; padding:6px 16px; background:none; border:2px solid var(--skyblue);
    border-radius:999px; font-size:13px; color: var(--skyblue); cursor:pointer; transition:0.2s;
}
.scramble-btn:hover { background: var(--skyblue); color: var(--panel); box-shadow:0 0 12px var(--skyblue); }

/* TIMER */
.timer {
    font-size:72px; font-weight:700; letter-spacing:2px;
    background: var(--panel); backdrop-filter: blur(8px);
    border-radius:20px; padding:20px 40px; box-shadow:0 8px 18px rgba(0,0,0,0.5);
    margin-bottom:6px;
    color: var(--skyblue);
}

.status { font-size:13px; color: var(--muted); margin-bottom:16px; }

/* BEST TIME */
.best {
    width:100%; max-width:420px;
    background: var(--panel); backdrop-filter: blur(8px);
    border-radius:20px; padding:14px;
    border:1px solid var(--border);
}
.best h3 { margin-bottom:10px; color: var(--silver); font-weight:600; }

/* LIST */
.list { max-height:240px; overflow-y:auto; padding-right:4px; }
.time-item {
    display:flex; justify-content:space-between; align-items:center;
    background: var(--card); border-radius:14px; padding:10px 16px;
    margin-bottom:8px; font-weight:600; font-size:16px; color: var(--text);
    transition:0.2s;
}
.time-item:hover { box-shadow:0 4px 12px var(--skyblue); }
.delete { background:none; border:none; color: var(--danger); font-size:18px; cursor:pointer; }
.list::-webkit-scrollbar { width:6px; }
.list::-webkit-scrollbar-thumb { background: var(--border); border-radius:10px; }
</style>
</head>
<body>
<div class="app" id="screen">

    <!-- HEADER -->
    <div class="header">
        <!-- LOGO RUBIK KLASIK -->
        <svg viewBox="0 0 100 100">
            <rect x="5" y="5" width="28" height="28" fill="#ef4444"/>
            <rect x="36" y="5" width="28" height="28" fill="#22c55e"/>
            <rect x="67" y="5" width="28" height="28" fill="#3b82f6"/>
            <rect x="5" y="36" width="28" height="28" fill="#facc15"/>
            <rect x="36" y="36" width="28" height="28" fill="#ffffff"/>
            <rect x="67" y="36" width="28" height="28" fill="#fb923c"/>
            <rect x="5" y="67" width="28" height="28" fill="#a855f7"/>
            <rect x="36" y="67" width="28" height="28" fill="#14b8a6"/>
            <rect x="67" y="67" width="28" height="28" fill="#84cc16"/>
        </svg>
        <h2>Rubik Cube Timer</h2>
    </div>

    <!-- SCRAMBLE -->
    <div class="scramble-box">
        <div class="scramble-text" id="scramble"></div>
        <button class="scramble-btn" id="scrambleBtn">New Scramble</button>
    </div>

    <!-- TIMER -->
    <div class="timer" id="timer">00.000</div>
    <div class="status" id="status">Tap layar untuk mulai</div>

    <!-- BEST TIMES -->
    <div class="best">
        <h3>Best Times</h3>
        <div class="list" id="list"></div>
    </div>

</div>

<script>
let running=false,startTime=0,elapsed=0,interval=null;
const timerEl=document.getElementById("timer");
const statusEl=document.getElementById("status");
const screen=document.getElementById("screen");
const list=document.getElementById("list");
const scrambleEl=document.getElementById("scramble");
const scrambleBtn=document.getElementById("scrambleBtn");

/* FORMAT TIME */
function format(ms){let s=Math.floor(ms/1000);let m=ms%1000;return`${String(s).padStart(2,'0')}.${String(m).padStart(3,'0')}`;}

/* SCRAMBLE GENERATOR */
function generateScramble(len=20){
    const moves=["U","D","L","R","F","B"];
    const mods=["","'","2"]; let last="", res=[];
    while(res.length<len){let m=moves[Math.floor(Math.random()*moves.length)]; if(m===last) continue; last=m; res.push(m+mods[Math.floor(Math.random()*mods.length)]);}
    return res.join(" ");
}
function newScramble(){scrambleEl.innerText=generateScramble();}

/* TIMER */
function start(){elapsed=0; startTime=Date.now(); running=true; statusEl.innerText="Running..."; interval=setInterval(()=>{elapsed=Date.now()-startTime; timerEl.innerText=format(elapsed);},10);}
function stop(){running=false; clearInterval(interval); statusEl.innerText="Tap layar untuk solve baru"; saveTime(elapsed);}

/* SAVE BEST TIME */
function saveTime(ms){
    const item=document.createElement("div"); item.className="time-item";
    const span=document.createElement("span"); span.innerText=format(ms);
    const del=document.createElement("button"); del.className="delete"; del.innerText="âœ–";
    del.addEventListener("click",e=>{e.stopPropagation(); item.remove();});
    item.appendChild(span); item.appendChild(del); list.appendChild(item);
}

/* TAP LAYAR START/STOP */
screen.addEventListener("click",()=>{if(!running) start(); else stop();});

/* SCRAMBLE BTN */
scrambleBtn.addEventListener("click",e=>{e.stopPropagation(); newScramble();});

/* INIT */
newScramble();
</script>
</body>
</html>